# 103.1 Work on the command line

1. С помощью системы `man` можно определить, как указать команде `apropos` на вывод краткой команды, чтобы она выводила только краткое сообщение об использовании, а затем выходила из программы. 

Запустите 
```
man apropos
``` 
и прокрутите вниз раздел "**Options**", пока не доберетесь до параграфа **--usage**.

2. С помощью системы `man` можно определить, какая лицензия на авторские права закреплена за командой `grep`. 

Запустите 
```
man grep
``` 
и прокрутите страницу вниз до раздела "**Copyright**". Обратите внимание, что программа использует авторское право Free Software Foundation.


3. Определите архитектуру аппаратного обеспечения и версию ядра **Linux**, используемого на вашем компьютере, в удобном для восприятия формате. 

Запустите 
```sh
man uname
```
прочитайте раздел "Описание" и определите аргументы команды, которые позволят вывести только те результаты, которые вам нужны. Обратите внимание, что параметр `-v` выводит версию ядра, а `-i` - аппаратную платформу.
```sh
$ man uname
$ uname -v
$ uname -i
```

4. Выведите последние двадцать строк динамической базы данных истории и файла **.bash_history** для их сравнения.
```sh
$ history 20
$ tail -n 20 .bash_history
```

5. С помощью инструмента `apropos` можно найти **man**-страницу, на которой находится команда, необходимая для отображения размера подключенного физического блочного устройства в байтах, а не в мегабайтах или гигабайтах. Один из способов - запустить apropos со строкой `block`, прочитать результаты, заметить, что `lsblk` перечисляет блочные устройства (и, следовательно, является наиболее подходящим инструментом для наших нужд), запустить 
```sh
man lsblk
```
пролистать раздел "Описание" и заметить, что `-b` отображает размер устройства в байтах. Наконец, выполните команду 
```sh
lsblk -b
```
и посмотрите, что получится.
```sh
$ apropos block
$ man lsblk
$ lsblk -b
```

6. Для добавления нового каталога в путь используйте команду `export` (она не выдержит перезагрузки). Временно добавить новый каталог (возможно, с именем **myfiles**, который находится в вашем домашнем каталоге) в путь можно с помощью команды 
```sh
export PATH="/home/yourname/myfiles:$PATH"
```
Создайте простой скрипт в каталоге **myfiles/**, сделайте его исполняемым и попробуйте запустить его из другого каталога. Эти команды предполагают, что вы находитесь в своем домашнем каталоге, который содержит каталог **myfiles**.
```sh
$ touch myfiles/myscript.sh
$ echo '#!/bin/bash' >> myfiles/myscript.sh
$ echo 'echo Hello' >> myfiles/myscript.sh
$ chmod +x myfiles/myscript.sh
$ myscript.sh 
Hello
```

7. Используйте команду `unset` для удаления переменной PATH. Попробуйте выполнить команду (например, sudo cat /etc/shadow), используя sudo. Что произошло? Почему? (Выход из оболочки вернет вас в исходное состояние). 
Ввод команды 
```sh
unset PATH 
```
приведет к стиранию текущих настроек пути. Попытка вызвать двоичный файл без его абсолютного адреса будет неудачной. По этой причине попытка выполнить команду с помощью `sudo` (которая сама является двоичной программой, расположенной в каталоге **/usr/bin/sudo**) будет неудачной, если не указать ее абсолютное местоположение, например: 
```sh
/usr/bin/sudo /bin/cat /etc/shadow
```
Сбросить **PATH** можно с помощью export или просто выйдя из оболочки.


8. Найдите в Интернете полный список специальных символов. Вот список: 
```
& ; | * ? " ' [ ] ( ) $ < > { } # / \ ! ~
```

9. Попробуйте выполнить команды, используя строки, состоящие из специальных символов, и применяя различные методы их экранирования. Есть ли различия в поведении этих методов? 

Экранирование с помощью символов `"` сохранит специальные значения знака доллара, обратного знака и обратной косой черты. Экранирование с помощью символа `'`, напротив, приведет к тому, что все символы будут считаться буквальными.
```sh
$ mynewvar=goodbye
$ echo "$mynewvar"
goodbye
$ echo '$mynewvar'
$mynewvar
```
