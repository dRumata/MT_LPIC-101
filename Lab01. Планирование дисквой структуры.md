## Практическая работа 1. 
## Загрузка системы.

# 2. Инсталляция Linux и управление пакетами
## 2.1 Планирование дисковой структуры (102.1 Design hard disk layout)

### Вопросы для самопроверки

1. В системах Linux где хранятся файлы загрузчика **GRUB**? 

   <details>
   <summary>Вариант ответа</summary>
   В каталоге /boot/grub
    </details>
<br>    



2. Где должен заканчиваться загрузочный раздел, чтобы компьютер всегда мог загрузить ядро? 

   <details>
   <summary>Вариант ответа</summary>
    Перед цилиндром 1024.
    </details>
<br> 


3. При ручном монтировании файловой системы в какой каталог она обычно монтируется? 

   <details>
   <summary>Вариант ответа</summary>
   В каталог /mnt. Однако это не является обязательным. Вы можете монтировать раздел в любой каталог.
    </details>
<br> 


4. Что является наименьшей единицей внутри группы томов lvm? 

   <details>
   <summary>Вариант ответа</summary>
   Группы томов подразделяются на экстенты.
    </details>
<br> 

5. Как определяется размер логического тома? 

   <details>
   <summary>Вариант ответа</summary>
   По размеру физических экстентов, умноженному на количество экстентов на томе.
    </details>
<br>


---
### Практические задания
1. Определите куда обычно монтируется раздел **EFI** и посмотрите его содержимое? (задание выполняется на ВМ "debian")

1.1. Для определения точки монтирования используйте команду `lsblk` 
```
lsblk -f
```
Найдите в выводже команды имя каталога. Это должен быть **/boot/efi**
```
NAME   FSTYPE FSVER LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS
sda
├─sda1 vfat   FAT32       79DB-3498                             505,2M     1% /boot/efi
```
1.2. Просмотрите содержимое этого каталога
```
sudo tree /boot/efi -h
```
1.3. Какой файл самы большой? Это должен быть  **grubx64.efi**. Действительно ли это?

---
2. Помимо разделов подкачки, можно быстро увеличить пространство подкачки в системе Linux с помощью файла подкачки. Создайте файл подкачки и увеличьте swap.

2.1. Создайте файл заполненый нулями размером 200Мб
```sh
dd if=/dev/zero of=swapfile bs=1MiB count=200
```
2.2. Отформатируйте его в формат swap
```sh
mkswap swapfile
```
```console
mkswap: swapfile: insecure permissions 0644, fix with: chmod 0600 swapfile
Setting up swapspace version 1, size = 200 MiB (209711104 bytes)
no label, UUID=fdff701b-b03f-4697-a52a-ec81fd61dc3b
```
и установите рекомендуемые права доступа к файлу
```sh
chmod 0600 swapfile
```
2.3. Проверьте объем раздела подкачки. Запомните это число. Используйте команду `swapon` или `top`.
```
MiB Swap:   1953.0 total,   1953.0 free,      0.0 used.   1328.0 avail Mem
```

2.4. Подключите файл подкачки дополнительно к разделу плодкачки
```sh
sudo swapon swapfile
```
2.5. Проверьте объем раздела подкачки. Сравните с предыдущим значением.

2.6. Перезагрузить систему и снова проверьте объем раздела подкачки. Сравните с предыдущим значением. Подключеный ранее swap-файл должен отсутствовать.

---
3. На диске, отформатированном по схеме разметки **MBR**, определите какой идентификатор имеет системный раздел **EFI**? (задание выполняется на ВМ "debian")
3.1. Определите какие разделы присутсвуют на диске и какой раздел используется для EFI
```sh
lsblk -f
```
это первый раздел.
```
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda      8:0    0   24G  0 disk
├─sda1   8:1    0  512M  0 part /boot/efi
├─sda2   8:2    0  4,8G  0 part /
├─sda3   8:3    0  1,9G  0 part /var
├─sda4   8:4    0  977M  0 part [SWAP]
├─sda5   8:5    0  408M  0 part /tmp
└─sda6   8:6    0 15,5G  0 part /home
sdb      8:16   0   16G  0 disk
sr0     11:0    1 1024M  0 rom
```

3.2. Посмотрите список разделов на диске и найдите тип первого раздела
```sh
sudo gdisk -l /dev/sda
```
```console
Number  Start (sector)    End (sector)  Size       Code  Name
   1            2048         1050623   512.0 MiB   EF00
   2         1050624        11036671   4.8 GiB     8300
   3        11036672        15015935   1.9 GiB     8300
   4        15015936        17016831   977.0 MiB   8200
   5        17016832        17852415   408.0 MiB   8300
   6        17852416        50329599   15.5 GiB    8300
```
Идентификатор равен **EF00** или **0xEF**.
