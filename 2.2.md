# 102.2 Install a boot manager .

1. В каком месте по умолчанию находится файл конфигурации **GRUB 2**? 

```c
/boot/grub/grub.cfg
```

2. Какие действия необходимо выполнить для изменения настроек **GRUB 2**? 

Внесите изменения в файл `/etc/default/grub`, а затем обновите конфигурацию с помощью команды 
```sh
update-grub
```

3. В какой файл следует добавить пункты пользовательского меню **GRUB 2**? 

**/etc/grub.d/40_custom**

4. Где хранятся пункты меню **GRUB Legacy**? 

**/Boot/grub/menu.lst**

5. Как вы можете войти в командную консоль **GRUB** в меню **GRUB 2** или **GRUB Legacy**? 

Нажмите **`c`** на экране меню.

6. Представьте, что пользователь настраивает **GRUB Legacy** для загрузки со второго раздела первого диска. Он пишет следующую запись пользовательского меню: 
    ```c
    title My Linux Distro
    root (hd0,2)
    kernel /vmlinuz root=/dev/hda1
    initrd /initrd.img
    ```
    Однако система не загружается. Что не так? 

Загрузочный раздел неправильный. Помните, что, в отличие от GRUB 2, GRUB Legacy считает разделы с нуля. Таким образом, правильная команда для второго раздела первого диска должна быть **root (hd0,1)**.

7. Представьте, что у вас есть диск, идентифицированный как **/dev/sda** с несколькими разделами. Какую команду можно использовать, чтобы узнать, какой загрузочный раздел в системе? 

Используйте 
```sh
fdisk -l /dev/sda
``` 
Загрузочный раздел будет отмечен звездочкой **`*`** в списке.

8. Какую команду можно использовать для поиска **UUID** раздела? 

Используйте 
```sh
ls -la /dev/disk/by-uuid/ 
```
и найдите UUID, который указывает на раздел.

9.  Рассмотрим следующую запись для меню **GRUB 2** 
    ```ini
    menuentry "Default OS" {
    set root=(hd0,1)
    linux /vmlinuz root=/dev/sda1 ro quiet splash
    initrd /initrd.img
    }
    ```
Измените его так, чтобы система загружалась с диска с **UUID 5dda0af3-c995-481a-a6f3-
46dcd3b6998d**
Вместо того, чтобы указывать диск и раздел, скажите grub искать раздел с нужным UUID. 
```ini
menuentry "Default OS" {
search --set=root --fs-uuid 5dda0af3-c995-481a-a6f3-46dcd3b6998d
linux /vmlinuz root=/dev/sda1 ro quiet splash
initrd /initrd.img
}
```

10.  Как настроить **GRUB 2** на ожидание 10 секунд перед загрузкой пункта меню по умолчанию? 

Добавьте параметр `GRUB_TIMEOUT=10` в **/etc/default/grub**.

11. Какие команды из оболочки **GRUB Legacy** необходимы для установки **GRUB** на первый раздел второго диска?

```c
grub> root (hd1,0)
grub> setup (hd1)
```